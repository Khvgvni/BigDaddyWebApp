:root{
  --bg:#0b0c10;
  --card:#0c0f14cc; /* glass */
  --stroke:#ffffff1a;
  --text:#f2f4f8;
  --muted:#a6adbb;
  --accent:#4da3ff; /* iOS-like tint */
  --success:#3ddc97;
  --danger:#ff6b6b;
  --shadow:0 10px 30px #00000066, inset 0 1px 0 #ffffff1a, inset 0 -1px 0 #00000040;
  --radius:16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 10% -20%, #1a2255 0%, transparent 60%),
    radial-gradient(900px 900px at 120% 10%, #113a3a 0%, transparent 55%),
    linear-gradient(180deg,#0b0c10 0%, #0b0c10 100%);
  background-attachment: fixed;
  overscroll-behavior-y:none;
  -webkit-text-size-adjust:100%;
}

/* glass card */
.blur{
  backdrop-filter:saturate(140%) blur(16px);
  -webkit-backdrop-filter:saturate(140%) blur(16px);
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

/* header */
.app-header{
  position:sticky; top:0; z-index:10;
  margin:12px; padding:12px 14px; display:flex; align-items:center; gap:12px;
}
.header-left{display:flex; align-items:center; gap:12px;}
.logo{font-size:20px}
.titles h1{margin:0; font-size:18px; font-weight:700}
.subtitle{margin:2px 0 0 0; color:var(--muted); font-size:12px}

/* логотип в шапке (картинка) */
.logo-img{
  height:24px; width:auto; display:block; border-radius:8px;
  box-shadow:0 1px 2px #00000040;
}
@media (min-width:420px){ .logo-img{ height:24px; } }

/* поиск — убран */
.search-wrap{ display:none !important; }
.search-wrap input{
  width:100%; padding:14px 16px; border-radius:14px; border:1px solid var(--stroke);
  background:#0c0f14aa; color:var(--text); outline:none;
}

.icon-btn{border:none; background:transparent; color:var(--text); padding:10px; border-radius:12px}
.icon-btn:active{opacity:.8}

.page{display:none; padding:12px}
.page.active{display:block}

/* категории */
.chips{display:flex; gap:8px; overflow:auto; padding-bottom:6px}
.chips::-webkit-scrollbar{display:none}
.chips .chip{
  border:1px solid var(--stroke); color:var(--text); background:#0c0f1499;
  padding:8px 12px; border-radius:999px; white-space:nowrap; cursor:pointer
}
.chips .chip.active{background:#4da3ff22; border-color:#4da3ff55; color:#cfe5ff}

/* сетка блюд */
.grid{display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding-top:8px}
.card{display:flex; flex-direction:column; overflow:hidden; position:relative; min-height:240px}
.card .img{aspect-ratio:1/1; width:100%; object-fit:cover; border-bottom:1px solid var(--stroke)}
.card .content{padding:10px; display:flex; flex-direction:column; gap:6px}
.card h4{margin:0; font-size:14px}
.card p{margin:0; font-size:12px; color:var(--muted); line-height:1.3; height:32px; overflow:hidden}
.price-row{display:flex; align-items:center; justify-content:space-between}
.price{font-weight:700}
.btn{border:none; cursor:pointer; border-radius:14px; padding:12px 16px; font-weight:600; color:#fff}
.btn.glass{background:#ffffff1a; border:1px solid var(--stroke)}
.btn.primary{background:linear-gradient(180deg,#5ab1ff,#3586ff); box-shadow:0 10px 20px #2b61ff55}
.btn.small{padding:8px 12px; font-size:12px}
.btn:active{transform:translateY(1px)}

.badge{margin-left:6px; background:#ffb703; color:#1a1a1a; border-radius:999px; padding:2px 7px; font-size:11px}

/* корзина */
.cart-list{display:flex; flex-direction:column; gap:8px}
.cart-item{display:flex; gap:10px; align-items:center; padding:10px; border:1px solid var(--stroke); border-radius:14px; background:#0c0f1499}
.cart-item img{width:64px; height:64px; object-fit:cover; border-radius:10px; border:1px solid var(--stroke)}
.cart-item .meta{flex:1}
.cart-item h5{margin:0 0 4px 0}
.qty{display:flex; align-items:center; gap:8px}
.qty button{width:28px; height:28px; border-radius:10px; border:1px solid var(--stroke); background:#ffffff14; color:var(--text)}
.line{display:flex; justify-content:space-between; margin:8px 0}
.total{font-size:16px; font-weight:700}

/* формы */
.sheet{padding:14px; margin-top:12px}
.row{display:grid; grid-template-columns:1fr 1fr; gap:10px}
label{display:block; font-size:12px; color:var(--muted); margin:6px 0}
input,select,textarea{
  width:100%; margin-top:6px; padding:12px 12px; background:#0c0f1499; color:var(--text);
  border:1px solid var(--stroke); border-radius:12px; outline:none; font-size:16px; /* 16px — чтобы iOS не зумил */
}

/* мероприятия */
.section-head{padding:6px 2px 10px}
.events{display:flex; flex-direction:column; gap:10px}
.event{display:flex; gap:12px; padding:12px; border:1px solid var(--stroke); border-radius:14px; background:#0c0f1499}
.event .date{min-width:64px; text-align:center; padding:6px; border-radius:10px; background:linear-gradient(180deg,#24283a,#161a25); border:1px solid var(--stroke)}
.event .date .d{font-size:18px; font-weight:700}
.event .date .m{color:var(--muted); font-size:12px}
.event .body{flex:1}
.event .body h4{margin:0 0 4px 0}
.event .body p{margin:0; color:var(--muted)}
.event .cta{display:flex; align-items:center}

/* профиль */
.profile-card{display:flex; align-items:center; gap:12px; padding:12px; margin-bottom:12px}
.profile-card .avatar{font-size:28px}
.profile-card .info h3{margin:0}
.profile-card .info p{margin:2px 0 0}

/* таббар */
.tabbar{
  position:fixed; bottom:12px; left:12px; right:12px;
  display:grid; grid-template-columns:repeat(4,1fr);
  gap:10px; padding:8px; z-index:10;
  padding-bottom:calc(6px + env(safe-area-inset-bottom));
}
.tab{padding:12px 10px; border:1px solid var(--stroke); border-radius:14px; background:#0c0f1499; color:var(--text); font-weight:600}
.tab.active{background:#4da3ff22; border-color:#4da3ff55; color:#d7e9ff}

/* тосты/модалки */
.toast{position:fixed; left:50%; transform:translateX(-50%); bottom:100px; background:#161a21ee; border:1px solid var(--stroke); padding:10px 14px; border-radius:12px; opacity:0; pointer-events:none; transition:opacity .2s, transform .2s; z-index:20}
.toast.show{opacity:1; transform:translateX(-50%) translateY(-6px)}
.modal{border:none; border-radius:16px; padding:0; color:var(--text)}
.modal::backdrop{background:#0008; backdrop-filter:blur(2px)}
.modal .auth{padding:16px}
.modal menu{display:flex; justify-content:flex-end; gap:10px; padding:10px 0 0; margin:0}

.small{font-size:12px}
.admin.hidden{display:none}
.hidden{display:none !important}

/* безопасный отступ снизу, чтобы контент не перекрывался таббаром */
.spacer-80{height:calc(92px + env(safe-area-inset-bottom));}

/* --- корзина: прокрутка и видимость кнопки --- */
#page-cart{
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  padding-bottom:calc(120px + env(safe-area-inset-bottom));
}

/* универсальный «прослойка» внизу страниц */
.page-content::after{
  content:""; display:block; height:calc(80px + env(safe-area-inset-bottom));
}

/* ===================== */
/*  BEAUTY SPLASH 2.0    */
/* ===================== */

#splash{
  position:fixed; inset:0; z-index:9999;
  display:grid; place-items:center;
  overflow:hidden;
  background:#0b0c10;
  /* лёгкое затемнение, чтобы переход в приложение был плавный */
}

.s-aurora, .s-ring, .s-logo{position:absolute;}

/* АУРОРЫ — мягкие переливы с параллаксом */
.s-aurora{
  inset:-20%;
  background:
    radial-gradient(60% 40% at 15% 20%, rgba(93,142,255,.25) 0%, transparent 60%),
    radial-gradient(55% 45% at 85% 15%, rgba(61,220,151,.20) 0%, transparent 65%),
    radial-gradient(60% 55% at 60% 90%, rgba(255,107,107,.18) 0%, transparent 70%);
  filter: blur(32px) saturate(120%);
  animation: auroraMove 6.5s ease-in-out infinite alternate;
}
@keyframes auroraMove {
  0%   { transform: translate3d(-2%, -1%, 0) scale(1.02); }
  50%  { transform: translate3d(2%, 1%, 0)  scale(1.04); }
  100% { transform: translate3d(-1%, 2%, 0) scale(1.03); }
}

/* ТОНКОЕ НЕОНОВОЕ КОЛЬЦО вокруг лого */
.s-ring{
  width:min(240px, 58vw);
  height:min(240px, 58vw);
  border-radius:50%;
  background:
    conic-gradient(from 0deg,
      rgba(77,163,255,.0) 0deg,
      rgba(77,163,255,.55) 120deg,
      rgba(61,220,151,.55) 220deg,
      rgba(255,107,107,.45) 320deg,
      rgba(77,163,255,.0) 360deg);
  mask: radial-gradient(circle, transparent 62%, #000 66%);
  filter: blur(0.6px);
  animation: ringSpin 4.8s linear infinite;
  opacity:.9;
}
@keyframes ringSpin { to { transform: rotate(360deg); } }

/* ЛОГО: свечение + пульсация + мягкий вылет */
.s-logo{
  display:grid; place-items:center;
  transform: translateY(6px);
}
.s-logo img{
  width:min(140px, 32vw); height:auto; display:block;
  opacity:0; transform: scale(.92);
  filter: drop-shadow(0 4px 18px rgba(77,163,255,.35));
  animation:
    logoIn .5s cubic-bezier(.2,.8,.2,1) forwards,
    logoGlow 2.4s ease-in-out infinite;
}
@keyframes logoIn   { to { opacity:1; transform: scale(1); } }
@keyframes logoGlow {
  0%,100% { filter: drop-shadow(0 4px 18px rgba(77,163,255,.35)) drop-shadow(0 0 0 rgba(61,220,151,0)); }
  50%     { filter: drop-shadow(0 6px 26px rgba(77,163,255,.55)) drop-shadow(0 0 22px rgba(61,220,151,.25)); }
}

/* ГЛАДКИЙ УХОД сплэша */
body.splash-hide #splash{
  pointer-events:none;
  animation: splashFade .6s ease forwards;
}
@keyframes splashFade {
  to { opacity:0; backdrop-filter: blur(2px); }
}

/* Уменьшаем интенсивность на слабых устройствах */
@media (max-width:380px){
  .s-ring{ opacity:.75; }
  .s-aurora{ filter: blur(28px) saturate(110%); }
}

/* Доступность: уважаем reduced-motion */
@media (prefers-reduced-motion: reduce){
  .s-aurora, .s-ring { animation: none; }
  .s-logo img { animation: logoIn .35s ease-out forwards; }
}

/* --- Дата / Время: гарантированный зазор и без переполнения --- */
.dates-row{
  display:grid !important;
  grid-template-columns:minmax(0,1fr) minmax(0,1fr);
  column-gap:20px;
  row-gap:12px;
}
.dates-row > *{min-width:0;}
.dates-row input,
.dates-row select,
.dates-row textarea{width:100%; box-sizing:border-box;}

@media (max-width:380px){
  .dates-row{grid-template-columns:1fr; column-gap:0;}
}

.logo-wrap{position:relative; display:inline-block}
.logo-wrap .shine{
  position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.3) 30%, transparent 60%);
  transform: translateX(-120%) skewX(-12deg);
  filter: blur(1px);
  animation: shineRun 4.5s ease-in-out infinite;
}
@keyframes shineRun {
  0%, 70% { transform: translateX(-120%) skewX(-12deg); opacity:.0; }
  75%     { opacity:.85; }
  100%    { transform: translateX(120%) skewX(-12deg); opacity:0; }
}
@media (prefers-reduced-motion: reduce){ .logo-wrap .shine{ animation:none; } }

/* --- Обновлённая шапка --- */
.app-header{
  position: sticky;
  top: 0;
  z-index: 10;
  margin: 10px;
  padding: 12px 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  text-align: center;
}

.header-center{
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

/* Увеличенное лого */
.logo-big{
  width: 70px;   /* можно подправить, если нужно чуть больше/меньше */
  height: auto;
  border-radius: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,.3);
}

/* Надпись под лого */
.subtitle-large{
  font-size: 15px;
  color: var(--muted);
  letter-spacing: 0.3px;
  font-weight: 500;
}

/* Скрываем старое оформление, если где-то осталось */
.header-left, .titles, .titles h1{
  display: none !important;
}

/* --- Центрированный адаптивный хедер --- */
.app-header.header-centered {
  position: relative;
  z-index: 10;
  padding: 24px 16px 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

/* Центрируем содержимое */
.header-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  max-width: 100%;
  overflow: hidden;
}

/* Ограничение логотипа по размеру */
.hero-logo {
  width: min(40vw, 140px);   /* на маленьких экранах 40% ширины, максимум 140px */
  height: auto;
  object-fit: contain;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.35);
}

/* Текст под логотипом */
.tagline {
  margin-top: 6px;
  color: var(--muted);
  font-weight: 600;
  font-size: clamp(13px, 2.5vw, 16px);
  letter-spacing: 0.3px;
  white-space: nowrap;
}